#!/bin/sh
zgrep -E '^\[([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]\] \[Server thread\/INFO\]: [a-zA-Z0-9_]{3,16}( \(|\[)\/((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9]):(6553[0-5]|655[0-2][0-9]|65[0-4][0-9]{2}|6[0-4][0-9]{3}|[1-5]?[0-9]{1,4})(\)|\]) (logged in with entity id [0-9]+ at \(-?[0-9]*\.[0-9]*, -?[0-9]*\.[0-9]*, -?[0-9]*\.[0-9]*\)|lost connection: (Disconnected|You are not white-listed on this server!|You are banned from this server.))$' /var/minecraft_server/logs/*.gz
grep -E '^\[([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]\] \[Server thread\/INFO\]: [a-zA-Z0-9_]{3,16}( \(|\[)\/((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9]):(6553[0-5]|655[0-2][0-9]|65[0-4][0-9]{2}|6[0-4][0-9]{3}|[1-5]?[0-9]{1,4})(\)|\]) (logged in with entity id [0-9]+ at \(-?[0-9]*\.[0-9]*, -?[0-9]*\.[0-9]*, -?[0-9]*\.[0-9]*\)|lost connection: (Disconnected|You are not white-listed on this server!|You are banned from this server.))$' /var/minecraft_server/logs/*.log
